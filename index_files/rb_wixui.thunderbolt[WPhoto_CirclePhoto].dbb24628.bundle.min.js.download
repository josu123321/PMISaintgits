!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[WPhoto_CirclePhoto]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[WPhoto_CirclePhoto]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[WPhoto_CirclePhoto]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var a={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){"use strict";r.r(o),r.d(o,{components:function(){return ee}});var e=r(448),t=r.n(e),a=r(5329);const n=new RegExp("<%= compId %>","g"),i=(e,t)=>e.replace(n,t),l="expandButton";var s=e=>{const{skin:n,id:r,uri:o,alt:l,name:s,width:c,height:u,displayMode:d,focalPoint:p,filterEffectSvgUrl:f,quality:m,crop:g,onSizeChange:h,onLoad:v,getPlaceholder:y,containerWidth:b,containerHeight:k,isInFirstFold:C,lazyLoadImgExperimentOpen:E,hasAnimation:A,allowWEBPTransform:w,allowAnimatedTransform:x}=e,M={containerId:r,uri:o||"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",alt:l,name:s,width:c,height:u,displayMode:d,focalPoint:p,quality:m,crop:g,onLoad:v&&(P=o,/(^https?)|(^data)|(^blob)|(^\/\/)/.test(P))?e=>{const{naturalWidth:t,naturalHeight:a}=e.target;t&&a&&(t!==c||a!==u)&&(h(t,a),null==v||v())}:void 0,getPlaceholder:y,containerWidth:b,containerHeight:k,isInFirstFold:C,lazyLoadImgExperimentOpen:E,hasAnimation:A,allowWEBPTransform:w,allowAnimatedTransform:x};var P;const S=f?i(f,r):void 0;return a.createElement(n,t()({},e,{imageProps:M,filterEffectSvgUrl:S}))},c={link:"mGoGm2",image:"lDHlrQ",root:"dWLwCn"};function u(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=u(e[t]))&&(n&&(n+=" "),n+=a);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var d=function(){for(var e,t,a=0,n="";a<arguments.length;)(e=arguments[a++])&&(t=u(e))&&(n&&(n+=" "),n+=t);return n};const p=e=>Object.entries(e).reduce(((e,[t,a])=>(t.includes("data-")&&(e[t]=a),e)),{});const f="wixui-",m=(e,...t)=>{const a=[];return e&&a.push(`${f}${e}`),t.forEach((e=>{e&&(a.push(`${f}${e}`),a.push(e))})),a.join(" ")};var g="rYiAuL",h="gSXewE";const v=e=>{const{id:n,children:r,className:o,title:l,onClick:s,onDblClick:c,withOnClickHandler:u,onMouseEnter:f,onMouseLeave:m,filterEffectSvgString:v,filterEffectSvgUrl:y}=e,b=u?g:"",k=y?{style:{"--filter-effect-svg-url":y}}:{},C=v?a.createElement("svg",{id:"svg_"+n,className:h},a.createElement("defs",{dangerouslySetInnerHTML:{__html:i(v,n)}})):null;return a.createElement("div",t()({id:n},p(e),{className:d(o,b),title:l,onClick:s,onDoubleClick:c,onMouseEnter:f,onMouseLeave:m},k),C,r)},y=13,b=27;function k(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const C=k(32),E=k(y),A=e=>{E(e),C(e)},w=(k(b),{root:"linkElement"}),x=(e,n)=>{const{href:r,role:o,target:i,rel:l,className:s="",children:c,linkPopupId:u,anchorDataId:d,anchorCompId:f,tabIndex:m,dataTestId:g=w.root,title:h,onClick:v,onDoubleClick:y,onMouseEnter:b,onMouseLeave:k,onFocusCapture:x,onBlurCapture:M,"aria-live":P,"aria-disabled":S,"aria-label":I,"aria-labelledby":L,"aria-pressed":O,"aria-expanded":T,"aria-describedby":_,"aria-haspopup":B,"aria-current":H,dataPreview:N}=e,D=void 0!==e.activateByKey?e.activateByKey:(e=>e?"SpaceOrEnter":"Space")(u);let W;switch(D){case"Enter":W=E;break;case"Space":W=C;break;case"SpaceOrEnter":W=A;break;default:W=void 0}return void 0!==r?a.createElement("a",t()({},p(e),{"data-testid":g,"data-popupid":u,"data-anchor":d,"data-anchor-comp-id":f,"data-preview":N,href:r||void 0,target:i,role:u?"button":o,rel:l,className:s,onKeyDown:W,"aria-live":P,"aria-disabled":S,"aria-label":I,"aria-labelledby":L,"aria-pressed":O,"aria-expanded":T,"aria-haspopup":B,"aria-describedby":_,"aria-current":H,title:h,onClick:v,onMouseEnter:b,onMouseLeave:k,onDoubleClick:y,onFocusCapture:x,onBlurCapture:M,ref:n,tabIndex:u?0:m}),c):a.createElement("div",t()({},p(e),{"data-testid":g,"data-preview":N,className:s,tabIndex:m,"aria-label":I,"aria-labelledby":L,"aria-haspopup":B,"aria-disabled":S,"aria-expanded":T,title:h,role:o,onClick:v,onDoubleClick:y,onMouseEnter:b,onMouseLeave:k,ref:n}),c)};var M=a.forwardRef(x);var P={root:"image"},S="HlRz5e",I=r(42662);const{STATIC_MEDIA_URL:L}=I,O=({fittingType:e,src:t,target:a,options:n})=>{const r=I.getPlaceholder(e,t,a,{...n,autoEncode:!0});return r?.uri&&!/^[a-z]+:/.test(r.uri)&&(r.uri=`${L}${r.uri}`),r},T=/^[a-z]+:/;var _=e=>{const{id:t,containerId:n,uri:r,alt:o,name:i="",role:l,width:s,height:c,displayMode:u,devicePixelRatio:d,quality:p,alignType:f,bgEffectName:m="",focalPoint:g,upscaleMethod:h,className:v="",crop:y,imageStyles:b={},targetWidth:k,targetHeight:C,targetScale:E,onLoad:A=(()=>{}),onError:w=(()=>{}),shouldUseLQIP:x,containerWidth:M,containerHeight:P,getPlaceholder:I,isInFirstFold:_,placeholderTransition:B,socialAttrs:H,isSEOBot:N,skipMeasure:D,lazyLoadImgExperimentOpen:W,hasAnimation:j,allowWEBPTransform:R,allowAnimatedTransform:z}=e,U=a.useRef(null);let $="";const q="blur"===B,F=a.useRef(null);if(!F.current)if(I||x||_||N){const e={upscaleMethod:h,...p||{},shouldLoadHQImage:_,isSEOBot:N,hasAnimation:j,allowWEBPTransform:R,allowAnimatedTransform:z};F.current=(I||O)({fittingType:u,src:{id:r,width:s,height:c,crop:y,name:i,focalPoint:g},target:{width:M,height:P,alignment:f,htmlTag:"img"},options:e}),$=!F.current.transformed||_||N?"":"true"}else F.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const V=!N&&(I||x)&&!_&&F.current.transformed,G=a.useMemo((()=>JSON.stringify({containerId:n,...n&&{containerId:n},...f&&{alignType:f},...D&&{skipMeasure:!0},displayMode:u,...M&&{targetWidth:M},...P&&{targetHeight:P},...k&&{targetWidth:k},...C&&{targetHeight:C},...E&&{targetScale:E},isLQIP:V,isSEOBot:N,lqipTransition:B,imageData:{width:s,height:c,uri:r,name:i,displayMode:u,hasAnimation:j,...p&&{quality:p},...d&&{devicePixelRatio:d},...g&&{focalPoint:g},...y&&{crop:y},...h&&{upscaleMethod:h}}})),[n,f,D,u,P,M,k,C,E,V,N,B,s,c,r,i,p,d,g,y,h,j]),Y=F.current,Q=Y?.uri,X=Y?.srcset,J=Y.css?.img,K=`${S} ${v}`;a.useEffect((()=>{const e=U.current;A&&e?.currentSrc&&e?.complete&&A({target:e})}),[]);const Z=Y&&!Y?.transformed?`max(${s}px, 100%)`:k?`${k}px`:null;return a.createElement("wow-image",{id:t,class:K,"data-image-info":G,"data-bg-effect-name":m,"data-has-ssr-src":$,"data-animate-blur":!N&&V&&q?"":void 0,style:Z?{"--wix-img-max-width":Z}:{}},a.createElement("img",{src:Q,ref:U,alt:o||"",role:l,style:{...J,...b},onLoad:A,onError:w,...M&&{width:M},...P&&{height:P},...H,..._?{srcSet:X?.dpr?.map((e=>T.test(e)?e:`${L}${e}`)).join(", "),fetchpriority:"high"}:W?{loading:"lazy"}:{}}))},B="nTOEE9",H="sqUyGm",N="C_JY0G";let D,W,j,R=!1;var z=e=>{const{width:n,height:r,className:o}=e,[i,l]=a.useState(!1),[s,c]=a.useState({x:0,y:0}),u=a.useRef(null),p=e=>{const t=e.nativeEvent;if(i)l(!1);else if(!i&&t&&"click"===t.type){l(!0);const{offsetX:e,offsetY:a}=m(t.clientX,t.clientY),{x:n,y:r}=f(e,a);c({x:n,y:r})}},f=(e,t)=>{const a=u.current.offsetWidth,o=u.current.offsetHeight;return{x:e/a*(n-a),y:t/o*(r-o)}},m=(e,t)=>{const a=u.current.getBoundingClientRect();return{offsetX:e-a.left,offsetY:t-a.top}},g=()=>{c({x:D,y:W}),R=!1},h={onMouseLeave:e=>{j=setTimeout((()=>p(e)),1200)},onMouseEnter:()=>{clearTimeout(j)},onMouseMove:e=>{const t=e.nativeEvent,{offsetX:a,offsetY:n}=m(t.clientX,t.clientY);({x:D,y:W}=f(a,n)),R||requestAnimationFrame(g),R=!0}},v=i?{transform:"translate(-"+s.x+"px, -"+s.y+"px)",transitionTimingFunction:"ease-out",transitionDuration:"0.2s",willChange:"transform"}:{},y=i?{onClick:p,...h}:{onClick:p},b=i?{targetWidth:e.width,targetHeight:e.height,skipMeasure:!0}:{skipMeasure:!1};return a.createElement("div",t()({},y,{className:d(B,""+(i?N:H)),ref:u}),a.createElement(_,t()({},e,{className:o,imageStyles:v},b)))};var U="OJQ_3L";var $=e=>{const{skinsStyle:n,id:r,className:o,customClassNames:i=[],link:s,imageProps:c,title:u,onClick:f,hasPlatformClickHandler:g=!1,onClickBehavior:h,onDblClick:y,onMouseEnter:b,onMouseLeave:k,reportBiOnClick:C,filterEffectSvgString:E,filterEffectSvgUrl:A,popupA11yExperimentEnabled:w,translations:x}=e,S="zoomAndPanMode"===h?z:_;const I="zoomMode"===h;let L;I&&(L=s);var O;const T=!(!(O=s)||0===Object.keys(O).length&&O.constructor===Object)||g||I,B=(({reportBiOnClick:e,onClick:t})=>(0,a.useCallback)((a=>{e?.(a),t?.(a)}),[e,t]))({onClick:f,reportBiOnClick:C});let H;(T||Boolean(f))&&(H=B);const N=I&&w,D=(e=>{let{onClickBehavior:t,className:a,link:n}=e;const r={className:a};return"zoomMode"===t||"zoomAndPanMode"===t?r:{...n,...r}})({onClickBehavior:h,className:n.link,link:s});return a.createElement(v,t()({id:r},p(e),{className:d(n.root,o,m(P.root,...i)),title:u,onClick:H,onDblClick:y,onMouseEnter:b,onMouseLeave:k,withOnClickHandler:T,filterEffectSvgString:E,filterEffectSvgUrl:A}),a.createElement(M,D,a.createElement(S,t()({id:"img_"+r},c,{className:n.image,link:L}))),N&&a.createElement("button",{"data-testid":l,onClick:H,className:U,"aria-haspopup":"dialog","aria-label":null==x?void 0:x.expandAriaLabel,"aria-describedby":c.alt?c.containerId:void 0},a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 4V5H5.5C5.224 5 5 5.225 5 5.5V18.5C5 18.775 5.224 19 5.5 19H18.5C18.776 19 19 18.775 19 18.5V12H20V18.5C20 19.327 19.327 20 18.5 20H5.5C4.673 20 4 19.327 4 18.5V5.5C4 4.673 4.673 4 5.5 4H12ZM20 4V9H19V5.707L12.71 11.997L12.003 11.29L18.293 5H15V4H20Z"}))))};const q=e=>a.createElement($,t()({},e,{skinsStyle:c}));var F=e=>a.createElement(s,t()({},e,{skin:q}));const V=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)),G=e=>"linkPopupId"in e,Y=(e,t)=>{if(G(e))return e.linkPopupId;{const{pagesMap:a,mainPageId:n}=t||{};if(!a)return;const r=new URL(e.href??"");let o=Object.values(a).find((({pageUriSEO:e})=>!!e&&r.pathname?.includes(e)));return o||(o=n?a[n]:void 0),o?.pageId}},Q=e=>{if(void 0!==e)return null===e?"None":e.type},X=(e,t)=>{if(!e?.type)return;const{type:a}=e;switch(a){case"AnchorLink":return e.anchorDataId;case"DocumentLink":return e.docInfo?.name;case"PageLink":const a=Y(e,t);return a&&t?.pagesMap?.[a]?.title;default:return e.href}},J=(e,t,a)=>{const{link:n,value:r,details:o,actionName:i,elementType:l,trackClicksAnalytics:s,pagesMetadata:c,...u}=t;if(!s)return;const d=c&&{...c,pagesMap:window.viewerModel?.siteFeaturesConfigs?.router?.pagesMap},p=((e,t)=>{if(!e?.type)return;const{type:a}=e;switch(a){case"AnchorLink":return(e=>"anchorDataId"in e&&("SCROLL_TO_TOP"===e.anchorDataId||"SCROLL_TO_BOTTOM"===e.anchorDataId))(e)?void 0:{id:e.anchorDataId};case"DocumentLink":return{id:e.docInfo?.docId};case"PageLink":return{id:Y(e,t),isLightbox:G(e)};default:return}})(n,d),f=o||p?JSON.stringify({...p,...o}):void 0;e({src:76,evid:1113,...{...u,bl:navigator.language,url:window.location.href,details:f,elementType:l??"Unknown",actionName:i??Q(n),value:r??X(n,d)}},{endpoint:"pa",...a})};var K,Z;!function(e){e.Text="Text",e.Menu="Menu",e.Image="Image",e.Input="Input",e.Login="Login",e.Button="Button",e.Social="Social",e.Gallery="Gallery",e.Community="Community",e.Decorative="Decorative",e.MenuAndSearch="MenuAndSearch",e.MenuAndAnchor="MenuAndAnchor"}(K||(K={}));const ee={WPhoto_CirclePhoto:{component:F,controller:(Z=e=>{let{controllerUtils:t,mapperProps:a,stateValues:n}=e;const{reportBi:r}=n,{compId:o,language:i,mainPageId:l,fullNameCompType:s,trackClicksAnalytics:c,...u}=a;return{...u,reportBiOnClick:()=>{const{link:e,title:t,uri:a}=u;J(r,{link:e,language:i,trackClicksAnalytics:c,details:{uri:a},element_id:o,elementTitle:t,elementType:s,pagesMetadata:{mainPageId:l},elementGroup:K.Image})},onSizeChange:(e,a)=>{t.updateProps({width:e,height:a})}}},{useComponentProps:(e,t,a)=>{const n=(e=>({...e,updateStyles:t=>{const a=Object.entries(t).reduce(((e,[t,a])=>{return{...e,[(n=t,n.startsWith("--")?t:V(t))]:void 0===a?null:a};var n}),{});e.updateStyles(a)}}))(a);return Z({mapperProps:e,stateValues:t,controllerUtils:n})}})}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[WPhoto_CirclePhoto].dbb24628.bundle.min.js.map